{"id":"A2T1","dependencies":[{"name":"C:\\Users\\singh\\gemini-app\\package.json","includedInParent":true,"mtime":1745993032267}],"generated":{"js":"function e(){var e=new Date;document.getElementById(\"clock\").textContent=e.toLocaleTimeString(\"en-US\",{hour12:!1})}setInterval(e,1e3),e(),document.addEventListener(\"DOMContentLoaded\",function(){fetch(\"/api/getKey\").then(function(e){if(console.log(\"API response status:\",e.status),!e.ok)throw new Error(\"API key fetch failed: \".concat(e.status));return e.json()}).then(function(e){if(console.log(\"API response received:\",e),!e.apiKey)throw new Error(\"No API key returned from server\");CONFIG.API_KEY=e.apiKey,window.initGeminiAPI(e.apiKey),console.log(\"API key loaded securely and API initialized\");new RetroTerminal;setInterval(function(){var e=640+Math.floor(24*Math.random());document.getElementById(\"memory-usage\").textContent=\"MEM: \".concat(e,\"K\")},5e3)}).catch(function(e){console.error(\"Failed to load API key:\",e),document.getElementById(\"status-message\").textContent=\"API ERROR\";var t=document.getElementById(\"chat-output\"),n=document.createElement(\"div\");n.className=\"message error-message\",n.textContent=\"ERROR: Failed to load API key. Please check console for details.\",t.appendChild(n)})});"},"sourceMaps":{"js":{"mappings":[{"source":"app.js","original":{"line":4,"column":0},"generated":{"line":1,"column":0}},{"source":"app.js","name":"updateClock","original":{"line":4,"column":9},"generated":{"line":1,"column":9}},{"source":"app.js","original":{"line":5,"column":4},"generated":{"line":1,"column":13}},{"source":"app.js","name":"now","original":{"line":5,"column":10},"generated":{"line":1,"column":17}},{"source":"app.js","original":{"line":5,"column":16},"generated":{"line":1,"column":19}},{"source":"app.js","name":"Date","original":{"line":5,"column":20},"generated":{"line":1,"column":23}},{"source":"app.js","name":"document","original":{"line":6,"column":4},"generated":{"line":1,"column":28}},{"source":"app.js","name":"getElementById","original":{"line":6,"column":13},"generated":{"line":1,"column":37}},{"source":"app.js","original":{"line":6,"column":28},"generated":{"line":1,"column":52}},{"source":"app.js","name":"textContent","original":{"line":6,"column":37},"generated":{"line":1,"column":61}},{"source":"app.js","name":"now","original":{"line":6,"column":51},"generated":{"line":1,"column":73}},{"source":"app.js","name":"toLocaleTimeString","original":{"line":6,"column":55},"generated":{"line":1,"column":75}},{"source":"app.js","original":{"line":6,"column":74},"generated":{"line":1,"column":94}},{"source":"app.js","original":{"line":6,"column":83},"generated":{"line":1,"column":102}},{"source":"app.js","name":"hour12","original":{"line":6,"column":84},"generated":{"line":1,"column":103}},{"source":"app.js","original":{"line":6,"column":92},"generated":{"line":1,"column":111}},{"source":"app.js","name":"setInterval","original":{"line":10,"column":0},"generated":{"line":1,"column":115}},{"source":"app.js","name":"updateClock","original":{"line":10,"column":12},"generated":{"line":1,"column":127}},{"source":"app.js","original":{"line":10,"column":25},"generated":{"line":1,"column":129}},{"source":"app.js","name":"updateClock","original":{"line":11,"column":0},"generated":{"line":1,"column":134}},{"source":"app.js","name":"document","original":{"line":14,"column":0},"generated":{"line":1,"column":138}},{"source":"app.js","name":"addEventListener","original":{"line":14,"column":9},"generated":{"line":1,"column":147}},{"source":"app.js","original":{"line":14,"column":26},"generated":{"line":1,"column":164}},{"source":"app.js","original":{"line":14,"column":46},"generated":{"line":1,"column":183}},{"source":"app.js","name":"fetch","original":{"line":16,"column":4},"generated":{"line":1,"column":194}},{"source":"app.js","original":{"line":16,"column":10},"generated":{"line":1,"column":200}},{"source":"app.js","name":"then","original":{"line":17,"column":9},"generated":{"line":1,"column":215}},{"source":"app.js","original":{"line":17,"column":14},"generated":{"line":1,"column":220}},{"source":"app.js","name":"response","original":{"line":17,"column":14},"generated":{"line":1,"column":229}},{"source":"app.js","original":{"line":19,"column":12},"generated":{"line":1,"column":232}},{"source":"app.js","name":"console","original":{"line":18,"column":12},"generated":{"line":1,"column":235}},{"source":"app.js","name":"log","original":{"line":18,"column":20},"generated":{"line":1,"column":243}},{"source":"app.js","original":{"line":18,"column":24},"generated":{"line":1,"column":247}},{"source":"app.js","name":"response","original":{"line":18,"column":48},"generated":{"line":1,"column":270}},{"source":"app.js","name":"status","original":{"line":18,"column":57},"generated":{"line":1,"column":272}},{"source":"app.js","name":"response","original":{"line":19,"column":17},"generated":{"line":1,"column":281}},{"source":"app.js","name":"ok","original":{"line":19,"column":26},"generated":{"line":1,"column":283}},{"source":"app.js","original":{"line":20,"column":16},"generated":{"line":1,"column":286}},{"source":"app.js","original":{"line":20,"column":22},"generated":{"line":1,"column":292}},{"source":"app.js","name":"Error","original":{"line":20,"column":26},"generated":{"line":1,"column":296}},{"source":"app.js","name":"concat","original":{"line":20,"column":31},"generated":{"line":1,"column":302}},{"source":"app.js","name":"concat","original":{"line":20,"column":31},"generated":{"line":1,"column":327}},{"source":"app.js","name":"response","original":{"line":20,"column":57},"generated":{"line":1,"column":334}},{"source":"app.js","name":"status","original":{"line":20,"column":66},"generated":{"line":1,"column":336}},{"source":"app.js","original":{"line":22,"column":12},"generated":{"line":1,"column":345}},{"source":"app.js","name":"response","original":{"line":22,"column":19},"generated":{"line":1,"column":352}},{"source":"app.js","name":"json","original":{"line":22,"column":28},"generated":{"line":1,"column":354}},{"source":"app.js","name":"then","original":{"line":24,"column":9},"generated":{"line":1,"column":363}},{"source":"app.js","original":{"line":24,"column":14},"generated":{"line":1,"column":368}},{"source":"app.js","name":"data","original":{"line":24,"column":14},"generated":{"line":1,"column":377}},{"source":"app.js","original":{"line":26,"column":12},"generated":{"line":1,"column":380}},{"source":"app.js","name":"console","original":{"line":25,"column":12},"generated":{"line":1,"column":383}},{"source":"app.js","name":"log","original":{"line":25,"column":20},"generated":{"line":1,"column":391}},{"source":"app.js","original":{"line":25,"column":24},"generated":{"line":1,"column":395}},{"source":"app.js","name":"data","original":{"line":25,"column":50},"generated":{"line":1,"column":420}},{"source":"app.js","name":"data","original":{"line":26,"column":17},"generated":{"line":1,"column":424}},{"source":"app.js","name":"apiKey","original":{"line":26,"column":22},"generated":{"line":1,"column":426}},{"source":"app.js","original":{"line":27,"column":16},"generated":{"line":1,"column":433}},{"source":"app.js","original":{"line":27,"column":22},"generated":{"line":1,"column":439}},{"source":"app.js","name":"Error","original":{"line":27,"column":26},"generated":{"line":1,"column":443}},{"source":"app.js","original":{"line":27,"column":32},"generated":{"line":1,"column":449}},{"source":"app.js","name":"CONFIG","original":{"line":30,"column":12},"generated":{"line":1,"column":484}},{"source":"app.js","name":"API_KEY","original":{"line":30,"column":19},"generated":{"line":1,"column":491}},{"source":"app.js","name":"data","original":{"line":30,"column":29},"generated":{"line":1,"column":499}},{"source":"app.js","name":"apiKey","original":{"line":30,"column":34},"generated":{"line":1,"column":501}},{"source":"app.js","name":"window","original":{"line":33,"column":12},"generated":{"line":1,"column":508}},{"source":"app.js","name":"initGeminiAPI","original":{"line":33,"column":19},"generated":{"line":1,"column":515}},{"source":"app.js","name":"data","original":{"line":33,"column":33},"generated":{"line":1,"column":529}},{"source":"app.js","name":"apiKey","original":{"line":33,"column":38},"generated":{"line":1,"column":531}},{"source":"app.js","name":"console","original":{"line":35,"column":12},"generated":{"line":1,"column":539}},{"source":"app.js","name":"log","original":{"line":35,"column":20},"generated":{"line":1,"column":547}},{"source":"app.js","original":{"line":35,"column":24},"generated":{"line":1,"column":551}},{"source":"app.js","original":{"line":38,"column":29},"generated":{"line":1,"column":598}},{"source":"app.js","name":"RetroTerminal","original":{"line":38,"column":33},"generated":{"line":1,"column":602}},{"source":"app.js","name":"setInterval","original":{"line":41,"column":12},"generated":{"line":1,"column":616}},{"source":"app.js","original":{"line":41,"column":24},"generated":{"line":1,"column":628}},{"source":"app.js","original":{"line":42,"column":16},"generated":{"line":1,"column":639}},{"source":"app.js","name":"memUsage","original":{"line":42,"column":22},"generated":{"line":1,"column":643}},{"source":"app.js","original":{"line":42,"column":33},"generated":{"line":1,"column":645}},{"source":"app.js","name":"Math","original":{"line":42,"column":39},"generated":{"line":1,"column":649}},{"source":"app.js","name":"floor","original":{"line":42,"column":44},"generated":{"line":1,"column":654}},{"source":"app.js","original":{"line":42,"column":66},"generated":{"line":1,"column":660}},{"source":"app.js","name":"Math","original":{"line":42,"column":50},"generated":{"line":1,"column":663}},{"source":"app.js","name":"random","original":{"line":42,"column":55},"generated":{"line":1,"column":668}},{"source":"app.js","name":"document","original":{"line":43,"column":16},"generated":{"line":1,"column":678}},{"source":"app.js","name":"getElementById","original":{"line":43,"column":25},"generated":{"line":1,"column":687}},{"source":"app.js","original":{"line":43,"column":40},"generated":{"line":1,"column":702}},{"source":"app.js","name":"textContent","original":{"line":43,"column":56},"generated":{"line":1,"column":718}},{"source":"app.js","name":"concat","original":{"line":43,"column":67},"generated":{"line":1,"column":730}},{"source":"app.js","name":"concat","original":{"line":43,"column":67},"generated":{"line":1,"column":738}},{"source":"app.js","name":"memUsage","original":{"line":43,"column":78},"generated":{"line":1,"column":745}},{"source":"app.js","original":{"line":43,"column":89},"generated":{"line":1,"column":747}},{"source":"app.js","original":{"line":44,"column":15},"generated":{"line":1,"column":753}},{"source":"app.js","name":"catch","original":{"line":46,"column":9},"generated":{"line":1,"column":760}},{"source":"app.js","original":{"line":46,"column":15},"generated":{"line":1,"column":766}},{"source":"app.js","name":"error","original":{"line":46,"column":15},"generated":{"line":1,"column":775}},{"source":"app.js","name":"console","original":{"line":47,"column":12},"generated":{"line":1,"column":778}},{"source":"app.js","name":"error","original":{"line":47,"column":20},"generated":{"line":1,"column":786}},{"source":"app.js","original":{"line":47,"column":26},"generated":{"line":1,"column":792}},{"source":"app.js","name":"error","original":{"line":47,"column":53},"generated":{"line":1,"column":818}},{"source":"app.js","name":"document","original":{"line":48,"column":12},"generated":{"line":1,"column":821}},{"source":"app.js","name":"getElementById","original":{"line":48,"column":21},"generated":{"line":1,"column":830}},{"source":"app.js","original":{"line":48,"column":36},"generated":{"line":1,"column":845}},{"source":"app.js","name":"textContent","original":{"line":48,"column":54},"generated":{"line":1,"column":863}},{"source":"app.js","original":{"line":48,"column":68},"generated":{"line":1,"column":875}},{"source":"app.js","original":{"line":51,"column":12},"generated":{"line":1,"column":887}},{"source":"app.js","name":"chatOutput","original":{"line":51,"column":18},"generated":{"line":1,"column":891}},{"source":"app.js","name":"document","original":{"line":51,"column":31},"generated":{"line":1,"column":893}},{"source":"app.js","name":"getElementById","original":{"line":51,"column":40},"generated":{"line":1,"column":902}},{"source":"app.js","original":{"line":51,"column":55},"generated":{"line":1,"column":917}},{"source":"app.js","name":"errorMsg","original":{"line":52,"column":18},"generated":{"line":1,"column":932}},{"source":"app.js","name":"document","original":{"line":52,"column":29},"generated":{"line":1,"column":934}},{"source":"app.js","name":"createElement","original":{"line":52,"column":38},"generated":{"line":1,"column":943}},{"source":"app.js","original":{"line":52,"column":52},"generated":{"line":1,"column":957}},{"source":"app.js","name":"errorMsg","original":{"line":53,"column":12},"generated":{"line":1,"column":964}},{"source":"app.js","name":"className","original":{"line":53,"column":21},"generated":{"line":1,"column":966}},{"source":"app.js","original":{"line":53,"column":33},"generated":{"line":1,"column":976}},{"source":"app.js","name":"errorMsg","original":{"line":54,"column":12},"generated":{"line":1,"column":1000}},{"source":"app.js","name":"textContent","original":{"line":54,"column":21},"generated":{"line":1,"column":1002}},{"source":"app.js","original":{"line":54,"column":35},"generated":{"line":1,"column":1014}},{"source":"app.js","name":"chatOutput","original":{"line":55,"column":12},"generated":{"line":1,"column":1081}},{"source":"app.js","name":"appendChild","original":{"line":55,"column":23},"generated":{"line":1,"column":1083}},{"source":"app.js","name":"errorMsg","original":{"line":55,"column":35},"generated":{"line":1,"column":1095}}],"sources":{"app.js":"// Main application initialization\r\n\r\n// Initialize the clock\r\nfunction updateClock() {\r\n    const now = new Date();\r\n    document.getElementById('clock').textContent = now.toLocaleTimeString('en-US', {hour12: false});\r\n}\r\n\r\n// Start the clock\r\nsetInterval(updateClock, 1000);\r\nupdateClock(); // Update immediately on load\r\n\r\n// Add after initial clock setup\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n    // Get API key from environment or a secure endpoint\r\n    fetch('/api/getKey')\r\n        .then(response => {\r\n            console.log(\"API response status:\", response.status);\r\n            if (!response.ok) {\r\n                throw new Error(`API key fetch failed: ${response.status}`);\r\n            }\r\n            return response.json();\r\n        })\r\n        .then(data => {\r\n            console.log(\"API response received:\", data);\r\n            if (!data.apiKey) {\r\n                throw new Error(\"No API key returned from server\");\r\n            }\r\n            // Store API key and initialize GeminiAPI\r\n            CONFIG.API_KEY = data.apiKey;\r\n            \r\n            // Initialize the API with the key\r\n            window.initGeminiAPI(data.apiKey);\r\n            \r\n            console.log(\"API key loaded securely and API initialized\");\r\n            \r\n            // Initialize the terminal\r\n            const terminal = new RetroTerminal();\r\n            \r\n            // Update memory usage stats randomly to simulate activity\r\n            setInterval(() => {\r\n                const memUsage = 640 + Math.floor(Math.random() * 24);\r\n                document.getElementById('memory-usage').textContent = `MEM: ${memUsage}K`;\r\n            }, 5000);\r\n        })\r\n        .catch(error => {\r\n            console.error(\"Failed to load API key:\", error);\r\n            document.getElementById('status-message').textContent = \"API ERROR\";\r\n            \r\n            // Show error message in chat\r\n            const chatOutput = document.getElementById('chat-output');\r\n            const errorMsg = document.createElement('div');\r\n            errorMsg.className = 'message error-message';\r\n            errorMsg.textContent = \"ERROR: Failed to load API key. Please check console for details.\";\r\n            chatOutput.appendChild(errorMsg);\r\n        });\r\n});"},"lineCount":null}},"error":null,"hash":"71781a2ff85b72bb2bbaab07d88475c8","cacheData":{"env":{}}}